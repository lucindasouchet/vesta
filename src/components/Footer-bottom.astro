---
import LanguageDropdownComponent from "./LanguageDropdown.astro";
import LabelComponent from "./core/Label.astro";
import LinkComponent from "./core/Link.astro";

// import i18next from "../i18n.old.ts";
// const { t } = i18next;

import { initI18n } from "../i18n/i18n.ts";
import { useLang } from "../helpers/context.ts";
import { getLocalizedPaths } from "../helpers/utils.ts";

export async function getStaticPaths() {
  return getLocalizedPaths();
}

const lang = useLang(Astro);
const i18n = await initI18n(lang);
const t = i18n.t.bind(i18n);
---

<div
  class="flex flex-col md:flex-row items-center justify-between bg-primary-60-dark px-6 lg:px-8 xl:px-12 pt-6 pb-3 2xl:px-24 2xl:pt-12 2xl:pb-6 text-xs text-white"
>
  <!-- Left -->
  <div class="flex flex-col justify-left text-center">
    <LabelComponent
      id="copyright-label"
      variantLabel="label-3 text-12 sm:text-12 md:text-14 text-center md:text-left"
      text={t("footer.copyright")}
    />
    <div
      class="flex flex-col justify-left md:flex-row md:flex-wrap md:gap-x-2 lg:gap-y-3 text-center mt-3 md:my-3 lg:my-4"
    >
      <LinkComponent
        id="privacy-policy-link"
        variantLink="caption text-10 md:text-12 text-neutral-05 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.privacy_policy")}
        href="#"
      />
      <span class="label-3 hidden md:inline">|</span>
      <LinkComponent
        id="cookie-policy-link"
        variantLink="caption text-10 md:text-12 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.cookie_policy")}
        href="#"
      />
      <span class="label-3 hidden md:inline">|</span>
      <LinkComponent
        id="cookie-settings-link"
        variantLink="caption text-10 md:text-12 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.cookie_settings")}
        href="#"
      />
      <span class="label-3 hidden md:inline">|</span>
      <LinkComponent
        id="legal-notice-link"
        variantLink="caption text-10 md:text-12 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.legal_notice")}
        href="#"
      />
      <span class="label-3 hidden md:inline">|</span>
      <LinkComponent
        id="smartHomeSec-privacy-policy-link"
        variantLink="caption text-10 md:text-12 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.smartHomeSec_privacy_policy")}
        href="#"
      />
      <span class="label-3 hidden md:inline">|</span>
      <LinkComponent
        id="medAlert-shs-privacy-policy-link"
        variantLink="caption text-10 md:text-12 hover:underline sm:mb-2 mb-3 md:mb-0 focus:outline-none focus:text-primary-10-light"
        text={t("footer.medAlert_shs_privacy_policy")}
        href="#"
      />
    </div>
  </div>

  <!-- HOVER Footer Language selector - Dropdown Wrapper (Desktop) -->
  <!-- <div class="relative group z-10">
        <button
            id="desktop-footer-language-selector"
            class="items-center px-6 py-4 hover:text-secondary-20-dark focus:outline-none focus:text-primary-10-light focus:border-primary-10-light hidden md:flex"
        >
            <span class="mr-3">Español</span>
            <svg
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
                transform="rotate(-180)"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19 9l-7 7-7-7"></path>
            </svg>
        </button>
        <div
            id="footer-language-desktop"
            class="absolute right-0 w-32 bg-primary-light rounded-xl opacity-100 group-hover:opacity-100 invisible group-hover:visible transition-opacity py-3 bottom-full text-dark shadow-lg inset-shadow-sm inset-shadow-primary-dark"
        >
            <a href="#" class="block px-6 py-2 text-sm hover:bg-neutral-20"
                >Español</a
            >
            <a href="#" class="block px-6 py-2 text-sm hover:bg-neutral-20"
                >Inglés</a
            >
            <a href="#" class="block px-6 py-2 text-sm hover:bg-neutral-20"
                >Francés</a
            >
            <a href="#" class="block px-6 py-2 text-sm hover:bg-neutral-20"
                >Portugués</a
            >
        </div>
    </div> -->

  <!-- <LanguageDropdownComponent id="languageDdlFooter" name="languageDdlFooter" /> -->

  <!-- ON CLICK Footer Language selector - Dropdown Wrapper (Mobile) -->
  <!-- <div class="relative inline-block text-left mt-3 md:hidden">
        <button
            id="dropdownBtnFooterLanguageMobile"
            class="inline-flex cursor-pointer items-center hover:underline"
        >
            <span>Español</span>
            <svg
                class="ml-2 h-4 w-4"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
                transform="rotate(-180)"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19 9l-7 7-7-7"></path>
            </svg>
        </button>

        <div
            id="dropdownMenuFooterLanguageMobile"
            class="absolute right-0 bottom-full mb-2 mr-[-22px] hidden w-28 rounded-xl bg-primary-light text-dark py-3 opacity-100 shadow-lg inset-shadow-sm inset-shadow-primary-dark transition-opacity group-hover:visible group-hover:opacity-100"
        >
            <a href="#" class="block px-6 py-2 text-xs hover:bg-neutral-20"
                >Español</a
            >
            <a href="#" class="block px-6 py-2 text-xs hover:bg-neutral-20"
                >Inglés</a
            >
            <a href="#" class="block px-6 py-2 text-xs hover:bg-neutral-20"
                >Francés</a
            >
            <a href="#" class="block px-6 py-2 text-xs hover:bg-neutral-20"
                >Portugués</a
            >
        </div>
    </div> -->
</div>

<!-- scripts used with the dd language selector -->
<!-- <script>
    // Footer Language dropdown toggle onclick
    const btnDdpFooterLanguageMobile = document.getElementById(
        "dropdownBtnFooterLanguageMobile",
    )!;
    const menuDdpFooterLanguageMobile = document.getElementById(
        "dropdownMenuFooterLanguageMobile",
    )!;

    btnDdpFooterLanguageMobile.addEventListener("click", () => {
        menuDdpFooterLanguageMobile.classList.toggle("hidden");
    });

    // Close if clicked outside
    document.addEventListener("click", (event: any) => {
        if (
            !btnDdpFooterLanguageMobile.contains(event.target) &&
            !menuDdpFooterLanguageMobile.contains(event.target)
        ) {
            menuDdpFooterLanguageMobile.classList.add("hidden");
        }
    });
</script> -->
