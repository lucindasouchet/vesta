---
import ButtonComponent from "../components/core/Button.astro";
import PartnerIcon from "../../public/images/icons/partner-min.svg";
import { initI18n } from "../i18n/i18n.ts";
import { useLang } from "../helpers/context.ts";
import { getLocalizedPaths } from "../helpers/utils.ts";
import LanguageSelector from "./core/LanguageSelector.astro";

export async function getStaticPaths() {
  return getLocalizedPaths();
}

const lang = useLang(Astro);
const i18n = await initI18n(lang);
const t = i18n.t.bind(i18n);
---

<div id="header-top">
  <div class="shadow-sm">
    <div
      class="hidden md:flex h-10 items-center justify-end md:text-lg lg:text-xl/6"
    >
      <!-- Right: Links and actions -->
      <div class="flex items-center gap-8">
        <!-- Partner Program button with Icon -->
        <ButtonComponent
          id="header-top-partner-program-btn"
          hasLabel={true}
          label={t("header.vesta_partner_program")}
          hasIcon={true}
          icon={PartnerIcon}
          isIconRight={false}
          variantFullComponent="py-2.5 2xl:py-4 pr-6 pl-3 cursor-pointer hover:text-secondary-20-dark hover:stroke-secondary-20-dark focus:outline-none focus:text-primary-10-light focus:stroke-primary-10-light"
          variantButton="gap-3 cursor-pointer"
          variantLabel="label-1 text-14 lg:text-16 xl:text-18 2xl:text-20"
          variantIcon="h-7 w-7"
          type="button"
        />
        
        <!-- language dropdown selector -->
        <LanguageSelector
          id="header-top-lang-selector"
          hasLabel="false"
          lang={lang}
          variantFullComponent="gap-4 mr-4 cursor-pointer"
          variantSelect="px-2 py-1 text-14 lg:text-16 xl:text-18 2xl:text-20 cursor-pointer hover:text-secondary-20-dark focus:outline-none focus:text-primary-10-light focus:border-primary-10-light"
          variantOption="bg-neutral-05 text-black cursor-pointer"
        />
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById("header-top-partner-program-btn")?.addEventListener("click", () => {
    alert("Botón 'Vesta Partner Program' pulsado! Continuará...");
  });
</script>