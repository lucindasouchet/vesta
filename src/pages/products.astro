---
import ProductsComponent from "../components/Products.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import HeaderComponent from "../components/Header.astro";
import FooterComponent from "../components/Footer.astro";
import { initI18n } from "../i18n/i18n.js";
import TextComponent from "../components/core/Text.astro";
import TitleComponent from "../components/core/Title.astro";
import { getLocalizedPaths } from "../helpers/utils.ts";
import { useLang } from "../helpers/context.ts";

export async function getStaticPaths() {
  return getLocalizedPaths();
}

const lang = useLang(Astro);
const i18n = await initI18n(lang);
const t = i18n.t.bind(i18n);
---

<BaseLayout lang={lang}>
  <!-- <Fragment slot="title">{t("title")}</Fragment> -->
  <TextComponent id="test-text" text={t("description")} variantText="ml-4" />
  <TitleComponent id="test-title" text={t("title")} variantTitle="ml-4" />
  <!-- <HeaderComponent /> -->
  <ProductsComponent lang={lang} />
  <!-- <FooterComponent /> -->
</BaseLayout>
